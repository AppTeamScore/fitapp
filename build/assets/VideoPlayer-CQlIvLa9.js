import{c as i,r as a,j as e,C as m,a as f,B as l,R as V}from"./index-DOHKno-r.js";import{P as j}from"./play-DEC1aKMq.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],M=i("pause",L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],I=i("volume-2",_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],A=i("volume-x",R);function B({videoSrc:n,exerciseName:o,autoPlay:d=!1,loop:p=!0,muted:w=!0,onVideoEnd:u}){const[h,t]=a.useState(!1),[c,v]=a.useState(w),[y,r]=a.useState(!1),[N,x]=a.useState(!0),s=a.useRef(null),g=`/videos/${n}`;a.useEffect(()=>{d&&s.current&&s.current.play().then(()=>t(!0)).catch(()=>r(!0))},[d]);const b=()=>{s.current&&(h?(s.current.pause(),t(!1)):s.current.play().then(()=>t(!0)).catch(()=>r(!0)))},k=()=>{s.current&&(s.current.muted=!c,v(!c))},P=()=>{s.current&&(s.current.currentTime=0,s.current.play().then(()=>t(!0)).catch(()=>r(!0)))},z=()=>{r(!0),x(!1)},C=()=>{x(!1),r(!1)},E=()=>{t(!1),u&&u()};return y?e.jsx(m,{className:"w-full",children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:e.jsx(j,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Видео: ",n]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Видео не найдено. Поместите файл в папку /public/videos/"})]})]})})}):e.jsx(m,{className:"w-full overflow-hidden",children:e.jsxs(f,{className:"p-0",children:[e.jsxs("div",{className:"relative bg-black",children:[N&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),e.jsxs("video",{ref:s,className:"w-full aspect-[9/16] object-cover",loop:p,muted:c,playsInline:!0,onError:z,onLoadedData:C,onEnded:E,onPlay:()=>t(!0),onPause:()=>t(!1),children:[e.jsx("source",{src:g,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:b,className:"text-white hover:text-white hover:bg-white/20 h-8 w-8 p-0",children:h?e.jsx(M,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:P,className:"text-white hover:text-white hover:bg-white/20 h-8 w-8 p-0",children:e.jsx(V,{className:"h-4 w-4"})})]}),e.jsx(l,{variant:"ghost",size:"sm",onClick:k,className:"text-white hover:text-white hover:bg-white/20 h-8 w-8 p-0",children:c?e.jsx(A,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"font-medium text-sm",children:o}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})]})})}export{M as P,B as V};
